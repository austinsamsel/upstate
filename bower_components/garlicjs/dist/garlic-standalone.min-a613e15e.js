var Zepto=function(){function t(t){return"[object Function]"==j.call(t)}function e(t){return t instanceof Object}function n(t){return e(t)&&t.__proto__==Object.prototype}function i(t){return t instanceof Array}function r(t){return"number"==typeof t.length}function s(t){return E.call(t,function(t){return t!==g&&null!==t})}function o(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function a(t){return t in P?P[t]:P[t]=RegExp("(^|\\s)"+t+"(\\s|$)")}function u(t){return"children"in t?$.call(t.children):v.map(t.childNodes,function(t){return 1==t.nodeType?t:void 0})}function c(t,e,i){for(m in e)i&&n(e[m])?(n(t[m])||(t[m]={}),c(t[m],e[m],i)):e[m]!==g&&(t[m]=e[m])}function l(t,e){return e===g?v(t):v(t).filter(e)}function h(e,n,i,r){return t(n)?n.call(e,i,r):n}function f(t,e){var n=t.className,i=n&&n.baseVal!==g;return e===g?i?n.baseVal:n:void(i?n.baseVal=e:t.className=e)}function p(t){var e;try{return t?"true"==t||("false"==t?!1:"null"==t?null:isNaN(e=Number(t))?/^[\[\{]/.test(t)?v.parseJSON(t):t:e):t}catch(n){return t}}function d(t,e){e(t);for(var n in t.childNodes)d(t.childNodes[n],e)}var g,m,v,y,w,x,b=[],$=b.slice,E=b.filter,C=window.document,N={},P={},k=C.defaultView.getComputedStyle,S={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},O=/^\s*<(\w+|!)[^>]*>/,T=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,A=/^(?:body|html)$/i,M="val css html text data width height offset".split(" "),Z=C.createElement("table"),F=C.createElement("tr"),z={tr:C.createElement("tbody"),tbody:Z,thead:Z,tfoot:Z,td:F,th:F,"*":C.createElement("div")},D=/complete|loaded|interactive/,I=/^\.([\w-]+)$/,_=/^#([\w-]*)$/,V=/^[\w-]+$/,j={}.toString,L={},R=C.createElement("div");return L.matches=function(t,e){if(!t||1!==t.nodeType)return!1;var n=t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.matchesSelector;if(n)return n.call(t,e);var i,n=t.parentNode,r=!n;return r&&(n=R).appendChild(t),i=~L.qsa(n,e).indexOf(t),r&&R.removeChild(t),i},w=function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})},x=function(t){return E.call(t,function(e,n){return t.indexOf(e)==n})},L.fragment=function(t,e,i){t.replace&&(t=t.replace(T,"<$1></$2>")),e===g&&(e=O.test(t)&&RegExp.$1),e in z||(e="*");var r,s,o=z[e];return o.innerHTML=""+t,s=v.each($.call(o.childNodes),function(){o.removeChild(this)}),n(i)&&(r=v(s),v.each(i,function(t,e){-1<M.indexOf(t)?r[t](e):r.attr(t,e)})),s},L.Z=function(t,e){return t=t||[],t.__proto__=arguments.callee.prototype,t.selector=e||"",t},L.isZ=function(t){return t instanceof L.Z},L.init=function(r,o){if(!r)return L.Z();if(t(r))return v(C).ready(r);if(L.isZ(r))return r;var a;if(i(r))a=s(r);else if(e(r))a=[n(r)?v.extend({},r):r],r=null;else if(O.test(r))a=L.fragment(r.trim(),RegExp.$1,o),r=null;else{if(o!==g)return v(o).find(r);a=L.qsa(C,r)}return L.Z(a,r)},v=function(t,e){return L.init(t,e)},v.extend=function(t){var e,n=$.call(arguments,1);return"boolean"==typeof t&&(e=t,t=n.shift()),n.forEach(function(n){c(t,n,e)}),t},L.qsa=function(t,e){var n;return t===C&&_.test(e)?(n=t.getElementById(RegExp.$1))?[n]:[]:1!==t.nodeType&&9!==t.nodeType?[]:$.call(I.test(e)?t.getElementsByClassName(RegExp.$1):V.test(e)?t.getElementsByTagName(e):t.querySelectorAll(e))},v.contains=function(t,e){return t!==e&&t.contains(e)},v.isFunction=t,v.isObject=e,v.isArray=i,v.isPlainObject=n,v.inArray=function(t,e,n){return b.indexOf.call(e,t,n)},v.camelCase=w,v.trim=function(t){return t.trim()},v.uuid=0,v.support={},v.expr={},v.map=function(t,e){var n,i,s=[];if(r(t))for(i=0;i<t.length;i++)n=e(t[i],i),null!=n&&s.push(n);else for(i in t)n=e(t[i],i),null!=n&&s.push(n);return 0<s.length?v.fn.concat.apply([],s):s},v.each=function(t,e){var n;if(r(t))for(n=0;n<t.length&&!1!==e.call(t[n],n,t[n]);n++);else for(n in t)if(!1===e.call(t[n],n,t[n]))break;return t},v.grep=function(t,e){return E.call(t,e)},window.JSON&&(v.parseJSON=JSON.parse),v.fn={forEach:b.forEach,reduce:b.reduce,push:b.push,sort:b.sort,indexOf:b.indexOf,concat:b.concat,map:function(t){return v(v.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return v($.apply(this,arguments))},ready:function(t){return D.test(C.readyState)?t(v):C.addEventListener("DOMContentLoaded",function(){t(v)},!1),this},get:function(t){return t===g?$.call(this):this[t]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(t){return this.forEach(function(e,n){t.call(e,n,e)}),this},filter:function(e){return t(e)?this.not(this.not(e)):v(E.call(this,function(t){return L.matches(t,e)}))},add:function(t,e){return v(x(this.concat(v(t,e))))},is:function(t){return 0<this.length&&L.matches(this[0],t)},not:function(e){var n=[];if(t(e)&&e.call!==g)this.each(function(t){e.call(this,t)||n.push(this)});else{var i="string"==typeof e?this.filter(e):r(e)&&t(e.item)?$.call(e):v(e);this.forEach(function(t){0>i.indexOf(t)&&n.push(t)})}return v(n)},has:function(t){return this.filter(function(){return e(t)?v.contains(this,t):v(this).find(t).size()})},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){var t=this[0];return t&&!e(t)?t:v(t)},last:function(){var t=this[this.length-1];return t&&!e(t)?t:v(t)},find:function(t){var e;return e=1==this.length?v(L.qsa(this[0],t)):this.map(function(){return L.qsa(this,t)})},closest:function(t,e){for(var n=this[0];n&&!L.matches(n,t);)n=n!==e&&n!==C&&n.parentNode;return v(n)},parents:function(t){for(var e=[],n=this;0<n.length;)n=v.map(n,function(t){return(t=t.parentNode)&&t!==C&&0>e.indexOf(t)?(e.push(t),t):void 0});return l(e,t)},parent:function(t){return l(x(this.pluck("parentNode")),t)},children:function(t){return l(this.map(function(){return u(this)}),t)},contents:function(){return this.map(function(){return $.call(this.childNodes)})},siblings:function(t){return l(this.map(function(t,e){return E.call(u(e.parentNode),function(t){return t!==e})}),t)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(t){return v.map(this,function(e){return e[t]})},show:function(){return this.each(function(){if("none"==this.style.display&&(this.style.display=null),"none"==k(this,"").getPropertyValue("display")){var t,e=this.style;t=this.nodeName;var n,i;N[t]||(n=C.createElement(t),C.body.appendChild(n),i=k(n,"").getPropertyValue("display"),n.parentNode.removeChild(n),"none"==i&&(i="block"),N[t]=i),t=N[t],e.display=t}})},replaceWith:function(t){return this.before(t).remove()},wrap:function(e){var n=t(e);if(this[0]&&!n)var i=v(e).get(0),r=i.parentNode||1<this.length;return this.each(function(t){v(this).wrapAll(n?e.call(this,t):r?i.cloneNode(!0):i)})},wrapAll:function(t){if(this[0]){v(this[0]).before(t=v(t));for(var e;(e=t.children()).length;)t=e.first();v(t).append(this)}return this},wrapInner:function(e){var n=t(e);return this.each(function(t){var i=v(this),r=i.contents();t=n?e.call(this,t):e,r.length?r.wrapAll(t):i.append(t)})},unwrap:function(){return this.parent().each(function(){v(this).replaceWith(v(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(t){return this.each(function(){var e=v(this);(t===g?"none"==e.css("display"):t)?e.show():e.hide()})},prev:function(t){return v(this.pluck("previousElementSibling")).filter(t||"*")},next:function(t){return v(this.pluck("nextElementSibling")).filter(t||"*")},html:function(t){return t===g?0<this.length?this[0].innerHTML:null:this.each(function(e){var n=this.innerHTML;v(this).empty().append(h(this,t,e,n))})},text:function(t){return t===g?0<this.length?this[0].textContent:null:this.each(function(){this.textContent=t})},attr:function(t,n){var i;return"string"==typeof t&&n===g?0==this.length||1!==this[0].nodeType?g:"value"==t&&"INPUT"==this[0].nodeName?this.val():!(i=this[0].getAttribute(t))&&t in this[0]?this[0][t]:i:this.each(function(i){if(1===this.nodeType)if(e(t))for(m in t){i=m;var r=t[m];null==r?this.removeAttribute(i):this.setAttribute(i,r)}else i=h(this,n,i,this.getAttribute(t)),null==i?this.removeAttribute(t):this.setAttribute(t,i)})},removeAttr:function(t){return this.each(function(){1===this.nodeType&&this.removeAttribute(t)})},prop:function(t,e){return e===g?this[0]?this[0][t]:g:this.each(function(n){this[t]=h(this,e,n,this[t])})},data:function(t,e){var n=this.attr("data-"+o(t),e);return null!==n?p(n):g},val:function(t){return t===g?0<this.length?this[0].multiple?v(this[0]).find("option").filter(function(t){return this.selected}).pluck("value"):this[0].value:g:this.each(function(e){this.value=h(this,t,e,this.value)})},offset:function(){if(0==this.length)return null;var t=this[0].getBoundingClientRect();return{left:t.left+window.pageXOffset,top:t.top+window.pageYOffset,width:t.width,height:t.height}},css:function(t,e){if(2>arguments.length&&"string"==typeof t)return 0==this.length?g:this[0].style[w(t)]||k(this[0],"").getPropertyValue(t);var n="";for(m in t)t[m]||0===t[m]?n+=o(m)+":"+("number"!=typeof t[m]||S[o(m)]?t[m]:t[m]+"px")+";":this.each(function(){this.style.removeProperty(o(m))});return"string"==typeof t&&(e||0===e?n=o(t)+":"+("number"!=typeof e||S[o(t)]?e:e+"px"):this.each(function(){this.style.removeProperty(o(t))})),this.each(function(){this.style.cssText+=";"+n})},index:function(t){return t?this.indexOf(v(t)[0]):this.parent().children().indexOf(this[0])},hasClass:function(t){return 1>this.length?!1:a(t).test(f(this[0]))},addClass:function(t){return this.each(function(e){y=[];var n=f(this);h(this,t,e,n).split(/\s+/g).forEach(function(t){v(this).hasClass(t)||y.push(t)},this),y.length&&f(this,n+(n?" ":"")+y.join(" "))})},removeClass:function(t){return this.each(function(e){return t===g?f(this,""):(y=f(this),h(this,t,e,y).split(/\s+/g).forEach(function(t){y=y.replace(a(t)," ")}),void f(this,y.trim()))})},toggleClass:function(t,e){return this.each(function(n){n=h(this,t,n,f(this)),(e===g?!v(this).hasClass(n):e)?v(this).addClass(n):v(this).removeClass(n)})},scrollTop:function(){return this.length?"scrollTop"in this[0]?this[0].scrollTop:this[0].scrollY:void 0},position:function(){if(this.length){var t=this[0],e=this.offsetParent(),n=this.offset(),i=A.test(e[0].nodeName)?{top:0,left:0}:e.offset();return n.top-=parseFloat(v(t).css("margin-top"))||0,n.left-=parseFloat(v(t).css("margin-left"))||0,i.top+=parseFloat(v(e[0]).css("border-top-width"))||0,i.left+=parseFloat(v(e[0]).css("border-left-width"))||0,{top:n.top-i.top,left:n.left-i.left}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||C.body;t&&!A.test(t.nodeName)&&"static"==v(t).css("position");)t=t.offsetParent;return t})}},["width","height"].forEach(function(t){v.fn[t]=function(e){var n,i=t.replace(/./,function(t){return t[0].toUpperCase()});return e===g?this[0]==window?window["inner"+i]:this[0]==C?C.documentElement["offset"+i]:(n=this.offset())&&n[t]:this.each(function(n){var i=v(this);i.css(t,h(this,e,n,i[t]()))})}}),["after","prepend","before","append"].forEach(function(t,n){var i=n%2;v.fn[t]=function(){var t,r=v.map(arguments,function(t){return e(t)?t:L.fragment(t)}),s=1<this.length;return 1>r.length?this:this.each(function(e,o){t=i?o:o.parentNode,o=0==n?o.nextSibling:1==n?o.firstChild:2==n?o:null,r.forEach(function(e){if(s)e=e.cloneNode(!0);else if(!t)return v(e).remove();d(t.insertBefore(e,o),function(t){null!=t.nodeName&&"SCRIPT"===t.nodeName.toUpperCase()&&(!t.type||"text/javascript"===t.type)&&!t.src&&window.eval.call(window,t.innerHTML)})})})},v.fn[i?t+"To":"insert"+(n?"Before":"After")]=function(e){return v(e)[t](this),this}}),L.Z.prototype=v.fn,L.uniq=x,L.deserializeValue=p,v.zepto=L,v}();window.Zepto=Zepto,"$"in window||(window.$=Zepto),function(t){function e(t){return t._zid||(t._zid=l++)}function n(t,n,r,s){if(n=i(n),n.ns)var o=RegExp("(?:^| )"+n.ns.replace(" "," .* ?")+"(?: |$)");return(c[e(t)]||[]).filter(function(t){return t&&(!n.e||t.e==n.e)&&(!n.ns||o.test(t.ns))&&(!r||e(t.fn)===e(r))&&(!s||t.sel==s)})}function i(t){return t=(""+t).split("."),{e:t[0],ns:t.slice(1).sort().join(" ")}}function r(e,n,i){t.isObject(e)?t.each(e,i):e.split(/\s/).forEach(function(t){i(t,n)})}function s(n,s,o,a,u,l){var h=e(n),p=c[h]||(c[h]=[]);r(s,o,function(e,r){var s=i(e);s.fn=r,s.sel=a,s.e in f&&(r=function(e){var n=e.relatedTarget;return!n||n!==this&&!t.contains(this,n)?s.fn.apply(this,arguments):void 0}),s.del=u&&u(r,e);var o=s.del||r;s.proxy=function(t){var e=o.apply(n,[t].concat(t.data));return!1===e&&(t.preventDefault(),t.stopPropagation()),e},s.i=p.length,p.push(s),n.addEventListener(f[s.e]||s.e,s.proxy,s.del&&("focus"==s.e||"blur"==s.e)||!!l)})}function o(t,i,s,o,a){var u=e(t);r(i||"",s,function(e,i){n(t,e,i,o).forEach(function(e){delete c[u][e.i],t.removeEventListener(f[e.e]||e.e,e.proxy,e.del&&("focus"==e.e||"blur"==e.e)||!!a)})})}function a(e){var n,i={originalEvent:e};for(n in e)!g.test(n)&&void 0!==e[n]&&(i[n]=e[n]);return t.each(m,function(t,n){i[t]=function(){return this[n]=p,e[t].apply(e,arguments)},i[n]=d}),i}function u(t){if(!("defaultPrevented"in t)){t.defaultPrevented=!1;var e=t.preventDefault;t.preventDefault=function(){this.defaultPrevented=!0,e.call(this)}}}var c={},l=1,h={},f={mouseenter:"mouseover",mouseleave:"mouseout"};h.click=h.mousedown=h.mouseup=h.mousemove="MouseEvents",t.event={add:s,remove:o},t.proxy=function(n,i){if(t.isFunction(n)){var r=function(){return n.apply(i,arguments)};return r._zid=e(n),r}if("string"==typeof i)return t.proxy(n[i],n);throw new TypeError("expected function")},t.fn.bind=function(t,e){return this.each(function(){s(this,t,e)})},t.fn.unbind=function(t,e){return this.each(function(){o(this,t,e)})},t.fn.one=function(t,e){return this.each(function(n,i){s(this,t,e,null,function(t,e){return function(){var n=t.apply(i,arguments);return o(i,e,t),n}})})};var p=function(){return!0},d=function(){return!1},g=/^([A-Z]|layer[XY]$)/,m={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};t.fn.delegate=function(e,n,i){return this.each(function(r,o){s(o,n,i,e,function(n){return function(i){var r,s=t(i.target).closest(e,o).get(0);return s?(r=t.extend(a(i),{currentTarget:s,liveFired:o}),n.apply(s,[r].concat([].slice.call(arguments,1)))):void 0}})})},t.fn.undelegate=function(t,e,n){return this.each(function(){o(this,e,n,t)})},t.fn.live=function(e,n){return t(document.body).delegate(this.selector,e,n),this},t.fn.die=function(e,n){return t(document.body).undelegate(this.selector,e,n),this},t.fn.on=function(e,n,i){return!n||t.isFunction(n)?this.bind(e,n||i):this.delegate(n,e,i)},t.fn.off=function(e,n,i){return!n||t.isFunction(n)?this.unbind(e,n||i):this.undelegate(n,e,i)},t.fn.trigger=function(e,n){return("string"==typeof e||t.isPlainObject(e))&&(e=t.Event(e)),u(e),e.data=n,this.each(function(){"dispatchEvent"in this&&this.dispatchEvent(e)})},t.fn.triggerHandler=function(e,i){var r,s;return this.each(function(o,u){r=a("string"==typeof e?t.Event(e):e),r.data=i,r.target=u,t.each(n(u,e.type||e),function(t,e){return s=e.proxy(r),r.isImmediatePropagationStopped()?!1:void 0})}),s},"focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(e){t.fn[e]=function(t){return t?this.bind(e,t):this.trigger(e)}}),["focus","blur"].forEach(function(e){t.fn[e]=function(t){return t?this.bind(e,t):this.each(function(){try{this[e]()}catch(t){}}),this}}),t.Event=function(t,e){"string"!=typeof t&&(e=t,t=e.type);var n=document.createEvent(h[t]||"Events"),i=!0;if(e)for(var r in e)"bubbles"==r?i=!!e[r]:n[r]=e[r];return n.initEvent(t,i,!0,null,null,null,null,null,null,null,null,null,null,null,null),n.isDefaultPrevented=function(){return this.defaultPrevented},n}}(Zepto),function(t){function e(e,i){var u=e[a],u=u&&r[u];if(void 0===i)return u||n(e);if(u){if(i in u)return u[i];var c=o(i);if(c in u)return u[c]}return s.call(t(e),i)}function n(e,n,s){var u=e[a]||(e[a]=++t.uuid);return e=r[u]||(r[u]=i(e)),void 0!==n&&(e[o(n)]=s),e}function i(e){var n={};return t.each(e.attributes,function(e,i){0==i.name.indexOf("data-")&&(n[o(i.name.replace("data-",""))]=t.zepto.deserializeValue(i.value))}),n}var r={},s=t.fn.data,o=t.camelCase,a=t.expando="Zepto"+ +new Date;t.fn.data=function(i,r){return void 0===r?t.isPlainObject(i)?this.each(function(e,r){t.each(i,function(t,e){n(r,t,e)})}):0==this.length?void 0:e(this[0],i):this.each(function(){n(this,i,r)})},t.fn.removeData=function(e){return"string"==typeof e&&(e=e.split(/\s+/)),this.each(function(){var n=this[a],i=n&&r[n];i&&t.each(e,function(){delete i[o(this)]})})}}(Zepto),!function(t){var e=function(t){this.defined="undefined"!=typeof localStorage};e.prototype={constructor:e,get:function(t,e){return localStorage.getItem(t)?localStorage.getItem(t):"undefined"!=typeof e?e:null},has:function(t){return localStorage.getItem(t)?!0:!1},set:function(t,e,n){return"string"==typeof e&&(""===e?this.destroy(t):localStorage.setItem(t,e)),"function"==typeof n?n():!0},destroy:function(t,e){return localStorage.removeItem(t),"function"==typeof e?e():!0},clean:function(t){for(var e=localStorage.length-1;e>=0;e--)"undefined"==typeof Array.indexOf&&-1!==localStorage.key(e).indexOf("garlic:")&&localStorage.removeItem(localStorage.key(e));return"function"==typeof t?t():!0},clear:function(t){return localStorage.clear(),"function"==typeof t?t():!0}};var n=function(t,e,n){this.init("garlic",t,e,n)};n.prototype={constructor:n,init:function(e,n,i,r){this.type=e,this.$element=t(n),this.options=this.getOptions(r),this.storage=i,this.path=this.options.getPath(this.$element)||this.getPath(),this.parentForm=this.$element.closest("form"),this.$element.addClass("garlic-auto-save"),this.expiresFlag=this.options.expires?(this.$element.data("expires")?this.path:this.getPath(this.parentForm))+"_flag":!1,this.$element.on(this.options.events.join("."+this.type+" "),!1,t.proxy(this.persist,this)),this.options.destroy&&t(this.parentForm).on("submit reset",!1,t.proxy(this.destroy,this)),this.retrieve()},getOptions:function(e){return t.extend({},t.fn[this.type].defaults,e,this.$element.data())},persist:function(){this.val!==this.getVal()&&(this.val=this.getVal(),this.options.expires&&this.storage.set(this.expiresFlag,((new Date).getTime()+1e3*this.options.expires).toString()),this.storage.set(this.path,this.getVal()),this.options.onPersist(this.$element,this.getVal()))},getVal:function(){return this.$element.is("input[type=checkbox]")?this.$element.prop("checked")?"checked":"unchecked":this.$element.val()},retrieve:function(){if(this.storage.has(this.path)){if(this.options.expires){var t=(new Date).getTime();if(this.storage.get(this.expiresFlag)<t.toString())return void this.storage.destroy(this.path);this.$element.attr("expires-in",Math.floor((parseInt(this.storage.get(this.expiresFlag))-t)/1e3))}if(t=this.storage.get(this.path),this.options.conflictManager.enabled&&this.detectConflict())return this.conflictManager();if(this.$element.is("input[type=radio], input[type=checkbox]")){if("checked"===t||this.$element.val()===t)return this.$element.attr("checked",!0);"unchecked"===t&&this.$element.attr("checked",!1)}else this.$element.val(t),this.$element.trigger("input"),this.options.onRetrieve(this.$element,t)}},detectConflict:function(){var e=this;if(this.$element.is("input[type=checkbox], input[type=radio]"))return!1;if(this.$element.val()&&this.storage.get(this.path)!==this.$element.val()){if(this.$element.is("select")){var n=!1;return this.$element.find("option").each(function(){0!==t(this).index()&&t(this).attr("selected")&&t(this).val()!==e.storage.get(this.path)&&(n=!0)}),n}return!0}return!1},conflictManager:function(){return"function"!=typeof this.options.conflictManager.onConflictDetected||this.options.conflictManager.onConflictDetected(this.$element,this.storage.get(this.path))?(this.options.conflictManager.garlicPriority?(this.$element.data("swap-data",this.$element.val()),this.$element.data("swap-state","garlic"),this.$element.val(this.storage.get(this.path))):(this.$element.data("swap-data",this.storage.get(this.path)),this.$element.data("swap-state","default")),this.swapHandler(),this.$element.addClass("garlic-conflict-detected"),void this.$element.closest("input[type=submit]").attr("disabled",!0)):!1},swapHandler:function(){var e=t(this.options.conflictManager.template);this.$element.after(e.text(this.options.conflictManager.message)),e.on("click",!1,t.proxy(this.swap,this))},swap:function(){var e=this.$element.data("swap-data");this.$element.data("swap-state","garlic"===this.$element.data("swap-state")?"default":"garlic"),this.$element.data("swap-data",this.$element.val()),t(this.$element).val(e)},destroy:function(){this.storage.destroy(this.path)},remove:function(){this.remove(),this.$element.is("input[type=radio], input[type=checkbox]")?t(this.$element).prop("checked",!1):this.$element.val("")},getPath:function(e){if("undefined"==typeof e&&(e=this.$element),this.options.getPath(e))return this.options.getPath(e);if(1!=e.length)return!1;for(var n="",i=e.is("input[type=checkbox]"),r=e;r.length;){e=r[0];var s=e.nodeName;if(!s)break;var s=s.toLowerCase(),r=r.parent(),o=r.children(s);if((t(e).is("form, input, select, textarea")||i)&&(s+=t(e).attr("name")?"."+t(e).attr("name"):"",1<o.length&&!t(e).is("input[type=radio]")&&(s+=":eq("+o.index(e)+")"),n=s+(n?">"+n:""),"form"==e.nodeName.toLowerCase()))break}return"garlic:"+document.domain+(this.options.domain?"*":window.location.pathname)+">"+n},getStorage:function(){return this.storage}},t.fn.garlic=function(i,r){function s(e){var r=t(e),s=r.data("garlic"),u=t.extend({},o,r.data());return"undefined"!=typeof u.storage&&!u.storage||"password"===t(e).attr("type")||(s||r.data("garlic",s=new n(e,a,u)),"string"!=typeof i||"function"!=typeof s[i])?void 0:s[i]()}var o=t.extend(!0,{},t.fn.garlic.defaults,i,this.data()),a=new e,u=!1;return a.defined?(this.each(function(){t(this).is("form")?t(this).find(o.inputs).each(function(){t(this).is(o.excluded)||(u=s(t(this)))}):t(this).is(o.inputs)&&!t(this).is(o.excluded)&&(u=s(t(this)))}),"function"==typeof r?r():u):!1},t.fn.garlic.Constructor=n,t.fn.garlic.defaults={destroy:!0,inputs:"input, textarea, select",excluded:'input[type="file"], input[type="hidden"]',events:"DOMAttrModified textInput input change click keypress paste focus".split(" "),domain:!1,expires:!1,conflictManager:{enabled:!1,garlicPriority:!0,template:'<span class="garlic-swap"></span>',message:"This is your saved data. Click here to see default one",onConflictDetected:function(t,e){return!0}},getPath:function(t){},onRetrieve:function(t,e){},onPersist:function(t,e){}},t(window).on("load",function(){t('[data-persist="garlic"]').each(function(){t(this).garlic()})})}(window.jQuery||window.Zepto);