define("parsley/validator",["validator"],function(e){e="undefined"!=typeof e?e:"undefined"!=typeof module?module.exports:null;var t=function(t,r){this.__class__="ParsleyValidator",this.Validator=e,this.locale="en",this.init(t||{},r||{})};return t.prototype={init:function(e,t){this.catalog=t;for(var r in e)this.addValidator(r,e[r].fn,e[r].priority,e[r].requirementsTransformer);$.emit("parsley:validator:init")},setLocale:function(e){if("undefined"==typeof this.catalog[e])throw new Error(e+" is not available in the catalog");return this.locale=e,this},addCatalog:function(e,t,r){return"object"==typeof t&&(this.catalog[e]=t),!0===r?this.setLocale(e):this},addMessage:function(e,t,r){return"undefined"==typeof this.catalog[e]&&(this.catalog[e]={}),this.catalog[e][t.toLowerCase()]=r,this},validate:function(t,r,n){return(new this.Validator.Validator).validate.apply(new e.Validator,arguments)},addValidator:function(t,r,n,i){return this.validators[t.toLowerCase()]=function(t){return $.extend((new e.Assert).Callback(r,t),{priority:n,requirementsTransformer:i})},this},updateValidator:function(e,t,r,n){return this.addValidator(e,t,r,n)},removeValidator:function(e){return delete this.validators[e],this},getErrorMessage:function(e){var t;return t="type"===e.name?this.catalog[this.locale][e.name][e.requirements]:this.formatMessage(this.catalog[this.locale][e.name],e.requirements),""!==t?t:this.catalog[this.locale].defaultMessage},formatMessage:function(e,t){if("object"==typeof t){for(var r in t)e=this.formatMessage(e,t[r]);return e}return"string"==typeof e?e.replace(new RegExp("%s","i"),t):""},validators:{notblank:function(){return $.extend((new e.Assert).NotBlank(),{priority:2})},required:function(){return $.extend((new e.Assert).Required(),{priority:512})},type:function(t){var r;switch(t){case"email":r=(new e.Assert).Email();break;case"range":case"number":r=(new e.Assert).Regexp("^-?(?:\\d+|\\d{1,3}(?:,\\d{3})+)?(?:\\.\\d+)?$");break;case"integer":r=(new e.Assert).Regexp("^-?\\d+$");break;case"digits":r=(new e.Assert).Regexp("^\\d+$");break;case"alphanum":r=(new e.Assert).Regexp("^\\w+$","i");break;case"url":r=(new e.Assert).Regexp("(https?:\\/\\/)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,24}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)","i");break;default:throw new Error("validator type `"+t+"` is not supported")}return $.extend(r,{priority:256})},pattern:function(t){var r="";return/^\/.*\/(?:[gimy]*)$/.test(t)&&(r=t.replace(/.*\/([gimy]*)$/,"$1"),t=t.replace(new RegExp("^/(.*?)/"+r+"$"),"$1")),$.extend((new e.Assert).Regexp(t,r),{priority:64})},minlength:function(t){return $.extend((new e.Assert).Length({min:t}),{priority:30,requirementsTransformer:function(){return"string"!=typeof t||isNaN(t)?t:parseInt(t,10)}})},maxlength:function(t){return $.extend((new e.Assert).Length({max:t}),{priority:30,requirementsTransformer:function(){return"string"!=typeof t||isNaN(t)?t:parseInt(t,10)}})},length:function(t){return $.extend((new e.Assert).Length({min:t[0],max:t[1]}),{priority:32})},mincheck:function(e){return this.minlength(e)},maxcheck:function(e){return this.maxlength(e)},check:function(e){return this.length(e)},min:function(t){return $.extend((new e.Assert).GreaterThanOrEqual(t),{priority:30,requirementsTransformer:function(){return"string"!=typeof t||isNaN(t)?t:parseInt(t,10)}})},max:function(t){return $.extend((new e.Assert).LessThanOrEqual(t),{priority:30,requirementsTransformer:function(){return"string"!=typeof t||isNaN(t)?t:parseInt(t,10)}})},range:function(t){return $.extend((new e.Assert).Range(t[0],t[1]),{priority:32,requirementsTransformer:function(){for(var e=0;e<t.length;e++)t[e]="string"!=typeof t[e]||isNaN(t[e])?t[e]:parseInt(t[e],10);return t}})},equalto:function(t){return $.extend((new e.Assert).EqualTo(t),{priority:256,requirementsTransformer:function(){return $(t).length?$(t).val():t}})}}},t});